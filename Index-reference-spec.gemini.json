{
    "description": "A single-page web application designed as a study aid for AP Statistics Unit 5: Sampling Distributions. It uses tabs to organize different resources and tools, including a learning workflow guide, a flowchart, a prompt for an AI assistant (Grok), and study materials with progress tracking.",
    "purpose": "To provide students with structured guidance, resources (videos, practice PDFs), and tools (AI prompt, progress tracking) for learning AP Statistics Unit 5 topics and preparing for the exam.",
    "technologies": [
      "HTML5",
      "Tailwind CSS (via CDN)",
      "JavaScript (ES6+)",
      "React (via CDN)",
      "ReactDOM (via CDN)",
      "Babel Standalone (for JSX transpilation in browser)",
      "Mermaid JS (for flowchart rendering)",
      "Local Storage (for progress persistence)"
    ],
    "mainComponents": [
      {
        "name": "Header",
        "description": "Displays the unit title, subtitle, and AP exam weight percentage for this unit.",
        "location": "<header> element"
      },
      {
        "name": "Tab Navigation",
        "description": "A set of buttons allowing users to switch between different content sections.",
        "location": "div.flex.mb-0.border-b",
        "elements": [
          {"id": "tab-learning-flow", "text": "Learning Flow"},
          {"id": "tab-flowchart", "text": "Flowchart"},
          {"id": "tab-grok-prompt", "text": "Grok Prompt"},
          {"id": "tab-study-materials", "text": "Study Materials"}
        ],
        "functionality": "Clicking a tab button adds the 'active' class to it, removes 'active' from others, and shows the corresponding content div while hiding others."
      },
      {
        "name": "Tab Content Area",
        "description": "A container holding the content for all tabs. Only the content corresponding to the active tab is displayed.",
        "location": "div.bg-white.rounded-b-lg.shadow-md.p-6",
        "contentDivs": [
          {"id": "content-learning-flow"},
          {"id": "content-flowchart"},
          {"id": "content-grok-prompt"},
          {"id": "content-study-materials"}
        ]
      }
    ],
    "tabs": [
      {
        "id": "tab-learning-flow",
        "contentId": "content-learning-flow",
        "name": "Learning Flow",
        "description": "Displays an interactive, step-by-step guide on how to use the provided resources for a learning session. Implemented as a React component.",
        "subComponents": [
          {
            "name": "React Component: APStatLearningFlow",
            "location": "#learning-flow-app",
            "functionality": "Manages steps (defined in `steps` array), displays current step details (title, icon, content, tips), shows a progress tracker, a static materials list, and navigation buttons (Previous/Next). Uses React's `useState` for step management."
          }
        ]
      },
      {
        "id": "tab-flowchart",
        "contentId": "content-flowchart",
        "name": "Flowchart",
        "description": "Renders a visual flowchart illustrating the recommended learning process using Mermaid JS. Includes a color-coded legend.",
        "subComponents": [
          {"name": "Mermaid Flowchart Display", "location": "#flowchart"},
          {"name": "Legend", "location": ".grid.grid-cols-2.md\\:grid-cols-5"}
        ],
        "associatedData": "`flowchartDefinition` JavaScript constant",
        "associatedFunctions": "`renderFlowchart`"
      },
      {
        "id": "tab-grok-prompt",
        "contentId": "content-grok-prompt",
        "name": "Grok Prompt",
        "description": "Provides a pre-written prompt for the Grok AI assistant, instructions on how to use it with attached PDFs, links to the current topic's materials, and quick access links to all topics.",
        "subComponents": [
          {"name": "Prompt Display", "location": "#grok-prompt"},
          {"name": "Copy Button", "location": "#copy-button", "functionality": "Copies the prompt text to the clipboard using `navigator.clipboard` with fallback."},
          {"name": "Open Grok Button", "location": "a[href='https://grok.com']"},
          {"name": "Instructions List", "location": "ol"},
          {"name": "Help Link", "location": "a[href*='youtu.be']"},
          {"name": "Current Topic Display", "location": "#current-topic-info", "functionality": "Dynamically populated based on the `pdfFiles` array and its `current` property. Shows topic name, description, links to PDFs/videos, and status. Handles 'all completed' state."},
          {"name": "Complete/Reset Button", "location": "#complete-current-topic-btn", "functionality": "Marks the current topic as completed or resets all progress if all topics are done. Updates state and UI."},
          {"name": "Quick Access Topics", "location": "#quick-access-topics", "functionality": "Displays small cards for all topics, indicating status (completed, current, capstone). Clicking a card sets it as the current topic."}
        ],
        "associatedData": "`grokPrompt` constant, `pdfFiles` array",
        "associatedFunctions": "`updateCurrentTopicInfo`, `populateQuickAccessTopics`, `markTopicAsCompleted`, `resetProgress`, `setTopicAsCurrent`"
      },
      {
        "id": "tab-study-materials",
        "contentId": "content-study-materials",
        "name": "Study Materials",
        "description": "Lists all study topics for Unit 5, providing links to videos (AP Classroom and Google Drive backups marked with (+)) and downloadable PDF practice questions/answers. Includes progress tracking features.",
        "subComponents": [
          {"name": "All Completed Message", "location": "#all-completed-container", "visibility": "Shown when all topics are marked completed."},
          {"name": "Reset Progress Button", "location": "#reset-progress-btn", "functionality": "Resets completion status for all topics."},
          {"name": "Grok Prompt Tab CTA Banner", "description": "Encourages users to use the dedicated Grok Prompt tab."},
          {"name": "Topic Select Dropdown", "location": "#topic-select", "functionality": "Allows jumping to a specific topic card."},
          {"name": "Progress Bar", "location": "#progress-bar", "functionality": "Visually represents the percentage of completed topics."},
          {"name": "Topic Cards Container", "location": "#topic-cards-container", "functionality": "Dynamically populated with cards for each topic."},
          {"name": "Next Topic Container", "location": "#next-topic-container", "visibility": "Potentially less used now, shows the next incomplete topic."}
        ],
        "associatedData": "`pdfFiles` array",
        "associatedFunctions": "`populateTopicCards`, `createTopicCard`, `populateTopicSelect`, `updateProgressBar`, `checkAllTopicsCompleted`, `markTopicAsCompleted`, `resetProgress`, `updateNextTopic`"
      }
    ],
    "coreDataStructures": [
      {
        "name": "pdfFiles",
        "type": "JavaScript Array of Objects",
        "description": "The central data structure holding information about each study topic.",
        "objectProperties": [
          {"name": "id", "type": "String", "description": "Unique identifier (e.g., '5-1')."},
          {"name": "name", "type": "String", "description": "Topic name (e.g., 'Topic 5.1')."},
          {"name": "description", "type": "String", "description": "Brief description of the topic."},
          {"name": "questionPdf", "type": "String (URL)", "description": "Path to the questions PDF (optional)."},
          {"name": "answersPdf", "type": "String (URL)", "description": "Path to the answers PDF (optional)."},
          {"name": "questionPdf[2,3,4]", "type": "String (URL)", "description": "Additional PDFs, used for capstone MCQ parts (optional)."},
          {"name": "videoUrl", "type": "String (URL)", "description": "Link to the primary AP Classroom video (optional)."},
          {"name": "altVideoUrl", "type": "String (URL)", "description": "Link to the backup Google Drive video (optional)."},
          {"name": "videoUrl[2,3]", "type": "String (URL)", "description": "Links to additional AP Classroom videos (optional)."},
          {"name": "altVideoUrl[2,3]", "type": "String (URL)", "description": "Links to additional backup Google Drive videos (optional)."},
          {"name": "completed", "type": "Boolean", "description": "Tracks if the user has marked this topic as completed."},
          {"name": "current", "type": "Boolean", "description": "Indicates if this is the current focus topic."},
          {"name": "isCapstone", "type": "Boolean", "description": "Flags the final unit progress check topic."}
        ],
        "persistence": "Completion and current status are saved to/loaded from Local Storage under the key 'apStatsTopicProgress'."
      }
    ],
    "coreFunctionality": [
      {
        "name": "Tab Switching",
        "description": "Handles showing/hiding content panes based on user clicks on tab buttons. Implemented in the `DOMContentLoaded` event listener."
      },
      {
        "name": "Progress Tracking",
        "description": "Allows users to mark topics as completed. Updates the `pdfFiles` array, saves state to Local Storage (`saveTopicProgress`), and updates the UI (progress bar, card styling, current topic display). The next incomplete topic is automatically set as 'current'.",
        "functions": ["markTopicAsCompleted", "saveTopicProgress", "loadTopicProgress", "updateProgressBar", "checkAllTopicsCompleted", "resetProgress"]
      },
      {
        "name": "Dynamic Content Rendering",
        "description": "Generates HTML content based on the `pdfFiles` data.",
        "functions": ["populateTopicCards", "createTopicCard", "populateTopicSelect", "updateCurrentTopicInfo", "populateQuickAccessTopics", "renderFlowchart", "ReactDOM.render (for React component)"]
      },
      {
        "name": "Mermaid Flowchart Rendering",
        "description": "Uses the Mermaid JS library to draw the flowchart defined in `flowchartDefinition`.",
        "functions": ["renderFlowchart", "mermaid.initialize", "mermaid.contentLoaded"]
      },
      {
        "name": "React Component (Learning Flow)",
        "description": "Uses React to create an interactive, step-based guide.",
        "location": "<script type=\"text/babel\">"
      },
      {
        "name": "Copy to Clipboard",
        "description": "Copies the Grok prompt text when the button is clicked.",
        "location": "#copy-button click listener"
      },
      {
        "name": "Google Drive Backup Link Display",
        "description": "Video links marked with '(+)' have a hover tooltip revealing a Google Drive backup link, intended for when AP Classroom is inaccessible. Logic is within `createTopicCard` and `updateCurrentTopicInfo`.",
        "indicator": "Span with '(+)' icon and associated tooltip span."
      }
    ],
    "stateManagement": {
      "learningFlow": "Managed by React's `useState` within the `APStatLearningFlow` component.",
      "topicProgress": "Managed primarily through the `pdfFiles` JavaScript array. The `completed` and `current` properties are updated by user actions. State is persisted across sessions using `localStorage.setItem` and retrieved using `localStorage.getItem` ('apStatsTopicProgress')."
    },
    "userInteraction": [
      "Clicking tab buttons to navigate sections.",
      "Clicking download links for PDFs.",
      "Clicking video links (AP Classroom or Google Drive).",
      "Clicking 'Copy Prompt' button.",
      "Clicking 'Open Grok' button.",
      "Clicking 'Mark as Completed' / 'Mark Current Topic as Completed' buttons.",
      "Clicking 'Reset Progress' button.",
      "Using the topic select dropdown in 'Study Materials'.",
      "Clicking quick access topic cards in 'Grok Prompt' tab.",
      "Using 'Previous'/'Next' buttons in the 'Learning Flow' tab.",
      "Hovering over '(+)' icons next to video links for backup URLs."
    ]
  }